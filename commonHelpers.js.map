{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\n\nconst galleryList = document.querySelector('.gallery');\nlet lightBox = new SimpleLightbox('.gallery-link', {\n  captionsData: \"alt\",\n  captionDelay: 500\n});\n\nexport function galleryTemplate(element) {\n    const {largeImageURL, webformatURL, tags, likes, views, comments, downloads} = element;\n    return `\n   <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n      </a>\n      <ul class=\"gallery-body\">\n        <li class=\"info-box\">\n          <h3>Likes:</h3>\n          <p>${likes}</p>\n        </li>\n        <li class=\"info-box\">\n          <h3>Views:</h3>\n          <p>${views}</p>\n        </li>\n        <li class=\"info-box\">\n          <h3>Comments:</h3>\n          <p>${comments}</p>\n        </li>\n        <li class=\"info-box\">\n          <h3>Downloads:</h3>\n          <p>${downloads}</p>\n        </li>\n      </ul>\n    </li>`\n}\n\nexport function renderGallery(elements) {\n    const markup = elements.hits.map((element)=>{return galleryTemplate(element)})\n        .join('\\n');\n       \n    galleryList.insertAdjacentHTML('beforeend', markup);\n    \n    lightBox.refresh();   \n}\n\n\n","export function getGallery(queryName) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = new URLSearchParams({\n        key: \"42112521-3ff4dfc201bab0977369cd2bc\",\n        q: queryName,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    const url = `${BASE_URL}${END_POINT}?${PARAMS}`;\n \n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .catch(error => {\n        console.log(error);\n        });\n    \n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { renderGallery } from \"./js/render-functions.js\";\nimport { getGallery } from \"./js/pixabay-api.js\";\n\nconst form = document.querySelector('.search-form');\nconst galleryList = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(elem) {\n  elem.preventDefault();\n  \n  galleryList.innerHTML = '';\n\n  const query = elem.target.elements.query.value.trim();\n  \n  if (query === '') {\n    iziToast.show({\n      message: 'Please enter a search query name!',\n      messageColor: '#fff',\n      backgroundColor: '#FF0000',\n      position: 'topRight',\n    });      \n    return;\n  }\n  \n  loader.classList.remove('hidden');\n\n  getGallery(query).then(data => {\n    if (data.hits.length === 0) {\n      iziToast.show({\n        message: 'Sorry, there are no images matching your search query. Please, try again!',\n        messageColor: '#fff',\n        backgroundColor: '#FF0000',\n        position: 'topRight',\n      });\n    } else {\n      renderGallery(data);\n    }\n  }).catch((error) => {\n      console.log(error);\n  }).finally(() => {\n      loader.classList.add('hidden');\n  });\n\n  elem.target.reset();\n}"],"names":["galleryList","lightBox","SimpleLightbox","galleryTemplate","element","largeImageURL","webformatURL","tags","likes","views","comments","downloads","renderGallery","elements","markup","getGallery","queryName","BASE_URL","END_POINT","PARAMS","url","response","error","form","loader","onFormSubmit","elem","query","iziToast","data"],"mappings":"wvBAGA,MAAMA,EAAc,SAAS,cAAc,UAAU,EACrD,IAAIC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAgBC,EAAS,CACrC,KAAM,CAAC,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAIP,EAC/E,MAAO;AAAA;AAAA,sCAE2BC,CAAa;AAAA,0CACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,eAKrDC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,eAIRC,CAAS;AAAA;AAAA;AAAA,UAIxB,CAEO,SAASC,EAAcC,EAAU,CACpC,MAAMC,EAASD,EAAS,KAAK,IAAKT,GAAkBD,EAAgBC,CAAO,CAAE,EACxE,KAAK;AAAA,CAAI,EAEdJ,EAAY,mBAAmB,YAAac,CAAM,EAElDb,EAAS,QAAO,CACpB,CC5CO,SAASc,EAAWC,EAAW,CAClC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,MAAMC,GAAS,CAChB,QAAQ,IAAIA,CAAK,CACzB,CAAS,CAET,CClBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CvB,EAAc,SAAS,cAAc,UAAU,EAC/CwB,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAM,CAC1BA,EAAK,eAAc,EAEnB1B,EAAY,UAAY,GAExB,MAAM2B,EAAQD,EAAK,OAAO,SAAS,MAAM,MAAM,OAE/C,GAAIC,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,QAAS,oCACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,EACD,MACD,CAEDJ,EAAO,UAAU,OAAO,QAAQ,EAEhCT,EAAWY,CAAK,EAAE,KAAKE,GAAQ,CACzBA,EAAK,KAAK,SAAW,EACvBD,EAAS,KAAK,CACZ,QAAS,4EACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAClB,CAAO,EAEDhB,EAAciB,CAAI,CAExB,CAAG,EAAE,MAAOP,GAAU,CAChB,QAAQ,IAAIA,CAAK,CACvB,CAAG,EAAE,QAAQ,IAAM,CACbE,EAAO,UAAU,IAAI,QAAQ,CACnC,CAAG,EAEDE,EAAK,OAAO,OACd"}